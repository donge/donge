<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>We have an undirected graph where each vertex is either black or white and has a mark, which is a non-negative integer.  There are no edges that connect vertices of the same color.  We are going to play a game with this graph.  The rules are simple:
<ol>
<li>White and black alternate turns.  The first turn is white.</li>
<li>During a white turn, we set the mark of each black vertex equal to the sum of the marks of all its neighbors. The marks of the white vertices remain unchanged.</li>
<li>During a black turn, we set the mark of each white vertex equal to the sum of the marks of all its neighbors. The marks of the black vertices remain unchanged.</li>
</ol>
You are to find the marks of all vertices after <b>N</b> turns.
<br></br><br></br>
You are given a vector &lt;string&gt; <b>adj</b> where the j-th character of the i-th element is '1' (one) if there is an edge between vertices i and j, and '0' (zero) otherwise.  You are given the coloring of the graph in the string <b>colors</b>, the i-th element of which is the color of the i-th vertex.  'W' denotes white and 'B' denotes black.  The initial marks are given in the string <b>marks</b>, the i-th element of which is a digit representing the initial mark of the i-th vertex.
<br></br><br></br>
Return a vector &lt;int&gt; where the i-th element is the mark of the i-th vertex modulo 10^9+7 after <b>N</b> turns.
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>GameOnAGraph</td></tr><tr><td>Method:</td><td>getMarks</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, string, string, int</td></tr><tr><td>Returns:</td><td>vector &lt;int&gt;</td></tr><tr><td>Method signature:</td><td>vector &lt;int&gt; getMarks(vector &lt;string&gt; adj, string colors, string marks, int N)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>If a vertex whose mark is being calculated has no neighbors, its mark becomes zero.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>adj</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>adj</b> will contain exactly n characters, where n is the number of elements in <b>adj</b>.</td></tr><tr><td align="center" valign="top">-</td><td><b>colors</b> and <b>marks</b> will each contain exactly n characters, where n is the number of elements in adj</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>adj</b> will contain only the characters '0' (zero) and '1' (one).</td></tr><tr><td align="center" valign="top">-</td><td><b>adj</b> will be symmetric, i.e., adj[i][j] = adj[j][i], for all possible i and j.</td></tr><tr><td align="center" valign="top">-</td><td>adj[i][i] will be equal to '0', for all possible i.</td></tr><tr><td align="center" valign="top">-</td><td><b>colors</b> will contain only the characters 'W' and 'B'.</td></tr><tr><td align="center" valign="top">-</td><td>There will be no edges that connect vertices of the same color.  In other words, for all possible i and j, where <b>colors</b>[i] equals <b>colors</b>[j], <b>adj</b>[i][j] will be '0'.</td></tr><tr><td align="center" valign="top">-</td><td><b>marks</b> will contain only digits ('0'-'9').</td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 1 and 10^9, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;0110&quot;,&quot;1000&quot;,&quot;1000&quot;,&quot;0000&quot;}</pre></td></tr><tr><td><pre>&quot;WBBW&quot;</pre></td></tr><tr><td><pre>&quot;1000&quot;</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1, 1, 1, 0 }</pre></td></tr><tr><td><table><tr><td colspan="2">In this case there is only one turn, so both black vertices get their marks from the first white vertex.
The marks of the white vertices remain unchanged.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;00000&quot;,&quot;00000&quot;,&quot;00000&quot;,&quot;00000&quot;,&quot;00000&quot;}</pre></td></tr><tr><td><pre>&quot;BBWWW&quot;</pre></td></tr><tr><td><pre>&quot;99999&quot;</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: {0, 0, 9, 9, 9 }</pre></td></tr><tr><td><table><tr><td colspan="2">There are no edges in this graph, so all black vertices get their marks nullified.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;01&quot;,&quot;10&quot;}</pre></td></tr><tr><td><pre>&quot;BW&quot;</pre></td></tr><tr><td><pre>&quot;56&quot;</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: {6, 6 }</pre></td></tr><tr><td><table><tr><td colspan="2">After the first turn, the black vertex will have the same mark as the white one. After that, both marks will always be equal to 6.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;010101&quot;,&quot;101010&quot;,&quot;010101&quot;,&quot;101010&quot;,&quot;010101&quot;,&quot;101010&quot;}</pre></td></tr><tr><td><pre>&quot;BWBWBW&quot;</pre></td></tr><tr><td><pre>&quot;012345&quot;</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: {59049, 177147, 59049, 177147, 59049, 177147 }</pre></td></tr><tr><td></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
