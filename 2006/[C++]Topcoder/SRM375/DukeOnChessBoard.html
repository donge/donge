<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Let's define a <i>duke</i> as a chess figure that is only allowed to move 1 cell up, down, left or right.</p>

<p>A duke is placed on an <b>n</b>&times;<b>n</b> board in the cell <b>initPosition</b>. In this problem, columns are marked 'a', 'b', etc. from left to right, and rows are marked '1', '2', etc. from bottom to top.  Cells are notated as "cr" (quotes for clarity), where c is the column and r is the row.</p>

<p>Let's describe a duke's path as a dash-separated list of cells visited by the duke. For example, "c5-b5-b4" is a path consisting of two moves. The first move is one cell to the left (from c5 to b5), and the second is one cell down (from b5 to b4).</p>

<p>A path is called simple if it contains no repeated cells.</p>

<p>

Return the lexicographically greatest simple path of a duke starting in <b>initPosition</b>. If the length of the path exceeds 40 characters, return only the first 20 and the last 20 characters, separated by three dots. (See Example #1).</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>DukeOnChessBoard</td></tr><tr><td>Method:</td><td>dukePath</td></tr><tr><td>Parameters:</td><td>int, string</td></tr><tr><td>Returns:</td><td>string</td></tr><tr><td>Method signature:</td><td>string dukePath(int n, string initPosition)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>A string A is greater than a string B lexicographically if B is a proper prefix of A, or if A has a greater character at the first position where the strings differ.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>n</b> will be between 2 and 8, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>initPosition</b> will contain exactly 2 characters.</td></tr><tr><td align="center" valign="top">-</td><td>The first character of <b>initPosition</b> will be a lowercase letter between 'a' and 'h', inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The second character of <b>initPosition</b> will be a digit between '1' and '8', inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>initPosition</b> will denote a cell inside the <b>n</b>&times;<b>n</b> board.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>&quot;b2&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;b2-c2-c3-b3-a3-a2-a1-b1-c1&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">After the first move to the right, the duke will traverse the perimeter of the board in the counterclockwise direction.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>&quot;d4&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;d4-d3-d2-d1-c1-c2-c3...b3-b2-b1-a1-a2-a3-a4&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">The duke will move down three times, then left, then up three times and left, in a snake-like fashion.
The lexicographically greatest path is 47 characters long, so its middle part is replaced by "...".</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>&quot;a2&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;a2-b2-c2-c3-b3-a3&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"><img src="http://www.topcoder.com/contest/problem/DukeOnChessBoard/duke0.gif"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>&quot;d3&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;d3-d4-c4-c3-c2-d2-d1...b2-b3-b4-a4-a3-a2-a1&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"><img src="http://www.topcoder.com/contest/problem/DukeOnChessBoard/duke1.gif"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>8</pre></td></tr><tr><td><pre>&quot;a8&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;a8-b8-c8-d8-e8-f8-g8...a1-a2-a3-a4-a5-a6-a7&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
